# Harvester v1.6.0 Release Notes

This release introduces several features, enhancements, and bug fixes that improve system quality and the overall user experience. The documentation is available at https://docs.harvesterhci.io/v1.6.

The Harvester team appreciates your contributions and looks forward to receiving feedback regarding this release.

## Downloads

### AMD64

#### Full ISO

:cd: https://releases.rancher.com/harvester/v1.6.0/harvester-v1.6.0-amd64.iso

:file_folder: https://releases.rancher.com/harvester/v1.6.0/harvester-v1.6.0-vmlinuz-amd64

:file_folder: https://releases.rancher.com/harvester/v1.6.0/harvester-v1.6.0-initrd-amd64

:file_folder: https://releases.rancher.com/harvester/v1.6.0/harvester-v1.6.0-rootfs-amd64.squashfs

:white_check_mark: https://releases.rancher.com/harvester/v1.6.0/harvester-v1.6.0-amd64.sha512

:memo: https://releases.rancher.com/harvester/v1.6.0/version.yaml


#### Net Install ISO

:cd: https://releases.rancher.com/harvester/v1.6.0/harvester-v1.6.0-amd64-net-install.iso

:memo: https://docs.harvesterhci.io/v1.6/install/net-install/


### ARM64

:cd: https://releases.rancher.com/harvester/v1.6.0/harvester-v1.6.0-arm64.iso

:file_folder: https://releases.rancher.com/harvester/v1.6.0/harvester-v1.6.0-vmlinuz-arm64

:file_folder: https://releases.rancher.com/harvester/v1.6.0/harvester-v1.6.0-initrd-arm64

:file_folder: https://releases.rancher.com/harvester/v1.6.0/harvester-v1.6.0-rootfs-arm64.squashfs

:white_check_mark: https://releases.rancher.com/harvester/v1.6.0/harvester-v1.6.0-arm64.sha512

:memo: https://releases.rancher.com/harvester/v1.6.0/version-arm64.yaml


## Installation

Harvester can be installed using the [ISO image](https://docs.harvesterhci.io/v1.6/install/index), a [bootable USB drive](https://docs.harvesterhci.io/v1.6/install/usb-install), and [PXE boot](https://docs.harvesterhci.io/v1.6/install/pxe-boot-install/). A [net install ISO image](https://docs.harvesterhci.io/v1.6/install/net-install), which contains only the core OS components, is also now available. For more information, see the [Installation](https://docs.harvesterhci.io/v1.6/install/requirements) section of the documentation.

> [!IMPORTANT]
> The Harvester v1.6.0 installer checks if the hardware meets the [minimum requirements](https://docs.harvesterhci.io/v1.6/install/requirements/#hardware-requirements) for production use. If any of the checks fail, installation is stopped and warnings are printed to the system console.
> 
> You can disable this behavior during iPXE installation (for testing purposes) by adding the kernel parameter `harvester.install.skipchecks=true` when you boot the system. For more information, see [Useful Kernel Parameters](https://docs.harvesterhci.io/v1.6/install/pxe-boot-install#harvesterinstallskipcheckstrue).

## Upgrades

Harvester only allows upgrades from supported versions. For more information about upgrade paths and procedures, see [Upgrading Harvester](https://docs.harvesterhci.io/v1.6/upgrade/index).

## Highlights

### Experimental Features

> [!IMPORTANT]
> All new features that use Kube-OVN are considered experimental. The Kube-OVN implementation in Harvester v1.6.0 does not support upgrades and virtual machine live migration.

#### Kube-OVN Operator

The `kubeovn-operator` add-on is a tool for managing Kube-OVN as a secondary container network interface (CNI) on Harvester clusters. Kube-OVN provides advanced software-defined networking (SDN) capabilities such as virtual private cloud (VPC) and subnets for virtual machine workloads. When you enable the add-on, it deploys Kube-OVN to your Harvester cluster and creates the default `Configuration` CRD, which defines the desired state of the Kube-OVN installation.

[Documentation](https://docs.harvesterhci.io/v1.6/advanced/addons/kubeovn-operator) | [GitHub issue](https://github.com/harvester/harvester/issues/7413)

#### Overlay Network

The Harvester network-controller leverages Kube-OVN to create an OVN-based virtualized network that supports advanced SDN capabilities such as VPCs and subnets for virtual machine workloads. An overlay network represents a virtual layer 2 switch that encapsulates and forwards traffic between virtual machines.

#### Virtual Private Cloud (VPC)



#### Kube-OVN Virtual Machine Isolation

Isolation between virtual machines is typically achieved using either VLANs (in traditional networks) or virtual switches (in Kube-OVN). If you want to isolate virtual machines within the same virtual switch network, you can use subnet access control lists (ACLs) and Kubernetes network policies to achieve the required micro-segmentation.

[Documentation](https://docs.harvesterhci.io/v1.6/networking/kubeovn-vm-isolation) | [GitHub issue](https://github.com/harvester/harvester/issues/7381)

### Fully Supported Features

#### Containerized Data Importer (CDI) Settings on the Harvester UI

Harvester uses CDI to manage virtual machine image operations for certain StorageClasses. Starting with v1.6.0, you can use the Harvester UI to configure CDI settings when creating or updating a StorageClass. Each field on the **CDI Settings** tab corresponds to an annotation that modifies a specific StorageClass parameter. With this enhancement, you can avoid direct changes to the storage profile or CDI, which may result in unexpected system behavior. Instead, allow the Harvester controller to synchronize and persist the storage profile configuration through the use of CDI annotations.

[Demo](https://youtu.be/yRUjYlS8h-U) | [Documentation](https://docs.harvesterhci.io/v1.6/advanced/storageclass/#containerized-data-importer-cdi-settings) | [Github issue](https://github.com/harvester/harvester/issues/8077)

#### CPU and Memory Hotplug

Starting with Harvester v1.6.0, you can increase a virtual machine's CPU and memory resources while it is running. To use this feature, you must enable CPU and memory hotplug when you create the virtual machine. Once the virtual machine is created, you can add more CPU and memory resources at any time. Harvester automatically migrates the virtual machine to a node that has the necessary resources.

[Demo](https://youtu.be/QujSXPH-SfI) | [Documentation](https://docs.harvesterhci.io/v1.6/vm/cpu-memory-hotplug) | [GitHub issue](https://github.com/harvester/harvester/issues/5835)

#### Live Migration Progress Monitoring

In Harvester v1.6.0, you can monitor the progress of virtual machine live migration directly from the Harvester UI. The **Migration** tab of the virtual machine details screen displays migration event information and real-time metrics such as *remaining data* and *memory transfer rate*. To use view the information, you must ensure that the rancher-monitoring add-on is enabled.

[Demo](https://youtu.be/ZAsYSf7FdXU) | [Documentation](https://docs.harvesterhci.io/v1.6/monitoring/harvester-monitoring#live-migration-status-and-metrics) | [Github issue](https://github.com/harvester/harvester/issues/4352)

#### Online Volume Expansion

Harvester v1.6.0 allows you to expand volumes that are in use, as long as the underlying storage provider supports the feature. This works for volumes that are attached to a running virtual machine, or that have persistent volume claims (PVCs) connected to a running pod in a guest cluster.

The Longhorn V1 Data Engine fully supports online volume expansion, but the V2 Data Engine currently does not support it. For third-party storage, Harvester blocks online volume expansion requests by default. To allow such requests, you must use the `csi-online-expand-validation` setting to validate the storage provider.

[Demo](https://youtu.be/e273Ve_INjA) | [Documentation](https://docs.harvesterhci.io/v1.6/volume/edit-volume#online-volume-expansion) | GitHub issues: [2811](https://github.com/harvester/harvester/issues/2811) and [7358](https://github.com/harvester/harvester/issues/7358)

#### Third-Party Storage for Guest Clusters and Workloads

In Harvester v1.5.0, support for third-party storage is limited to provisioning of root and data volumes for virtual machines. Harvester v1.6.0 improves on this by also allowing you to provision guest clusters and their corresponding workloads with third-party storage solutions.

In your guest cluster, you must first create a new StorageClass that references the StorageClass you created in Harvester for the third-party storage solution. Then, you must create a PersistentVolumeClaim (PVC) using this new StorageClass and mount it to your workload.

[Demo](https://youtu.be/e273Ve_INjA) | GitHub issues: [8075](https://github.com/harvester/harvester/issues/8075) and [8076](https://github.com/harvester/harvester/issues/8076)

#### vm-import-controller Support for Third-Party CSIs

When importing virtual machine images using the vm-import-controller add-on, you can now specify a third-party storage solution instead of using Longhorn by default. To use this functionality, simply add the `storageClass` field to the `VirtualMachineImport` spec and specify the StorageClass for the third-party storage solution. Harvester handles the import and storage placement without requiring you to perform additional manual steps.

[Demo](https://youtu.be/nlyrs3jhl2g) | [Documentation](https://docs.harvesterhci.io/v1.6/advanced/addons/vmimport/) | [GitHub Issue](https://github.com/harvester/harvester/issues/8074)

#### VM Migration Network

By default, Harvester migrates virtual machines over the built-in cluster network `mgmt`, which is limited to one interface and shared with cluster-wide workloads. If network segregation is required, you can configure a VM migration network to isolate migration traffic and improve bandwidth utilization.

Configuring a VM migration network involves enabling the `vm-migration-network` setting and constructing a Multus `NetworkAttachmentDefinition` CRD. Once the setting is applied, all `virt-handler` pods are restarted to apply the new network configuration.

[Documentation](https://docs.harvesterhci.io/v1.6/advanced/vm-migration-network) | [GitHub issue](https://github.com/harvester/harvester/issues/5848)

## Features

- [FEATURE] Update nvidia-driver-toolkit build to support FIPS-enabled OS. [#8006](https://github.com/harvester/harvester/issues/8006)
- [GUI] [FEATURE] Expose CDI settings in Harvester to allow fine tuning CDI settings for day 2 operations [#8682](https://github.com/harvester/harvester/issues/8682)
- [GUI] [FEATURE] CPU / Memory hotplug support [#8416](https://github.com/harvester/harvester/issues/8416)
- [GUI] [FEATURE] Online resize of disks / volumes attached to virtual machines [#8314](https://github.com/harvester/harvester/issues/8314)
- [FEATURE] Longhorn v1 data engine - volume encryption GA [#8148](https://github.com/harvester/harvester/issues/8148)
- [FEATURE] Upgrade via ISO Upload [#8078](https://github.com/harvester/harvester/issues/8078)
- [FEATURE] Expose CDI settings in Harvester to allow fine tuning CDI settings for day 2 operations [#8077](https://github.com/harvester/harvester/issues/8077)
- [FEATURE] Harvester CSI changes for supporting 3rd party CSI volumes (RWO) for guest workloads [#8076](https://github.com/harvester/harvester/issues/8076)
- [FEATURE] 3rd party CSI support for guest clusters provisioned by rancher [#8075](https://github.com/harvester/harvester/issues/8075)
- [FEATURE] Extend vm-import-controller to support 3rd party CSI [#8074](https://github.com/harvester/harvester/issues/8074)
- [GUI] [FEATURE] Add another interface for live migration [#8069](https://github.com/harvester/harvester/issues/8069)
- [FEATURE] Recover Stuck Pods And Stale VolumeAttachments During Non-Graceful VM Shutdown [#8066](https://github.com/harvester/harvester/issues/8066)
- [FEATURE] Disable the Rancher `Manage` menu upon the unsupported Harvester clusters [#8054](https://github.com/harvester/harvester/issues/8054)
- [Enhancement] Handle upgrade scenario for #7650 [#8041](https://github.com/harvester/harvester/issues/8041)
- [FEATURE] Add option to select network interface model while importing VM to Harvester using the vm-import-controller [#7999](https://github.com/harvester/harvester/issues/7999)
- [GUI] [FEATURE] Add option to change runStrategy  while cloning the VM [#7986](https://github.com/harvester/harvester/issues/7986)
- [FEATURE] kubeovn operator to improve operations [#7936](https://github.com/harvester/harvester/issues/7936)
- [FEATURE][GUI] Support for subnets and VPCs Config from UI [#7920](https://github.com/harvester/harvester/issues/7920)
- [FEATURE] Add option to change runStrategy  while cloning the VM [#7871](https://github.com/harvester/harvester/issues/7871)
- [FEATURE] Longhorn v2 data engine - storage network [#7829](https://github.com/harvester/harvester/issues/7829)
- [FEATURE] Allow adding other endpoint to tls-san in RKE2 config [#7716](https://github.com/harvester/harvester/issues/7716)
- [FEATURE] Add validator webhook to block the creation of a VM when CPU pinning is enabled but no CPU Manager is activated [#7598](https://github.com/harvester/harvester/issues/7598)
- [FEATURE] Package kube-ovn as an addon [#7413](https://github.com/harvester/harvester/issues/7413)
- [FEATURE] Support Network policies for micro segmentation of VMs using KubeOVN [#7381](https://github.com/harvester/harvester/issues/7381)
- [FEATURE] Create VxLAN as the overlay network by Kube-OVN on Harvester [#7364](https://github.com/harvester/harvester/issues/7364)
- [FEATURE] Volume resizing inside guest clusters [#7358](https://github.com/harvester/harvester/issues/7358)
- [FEATURE] Support Virtual switches and Routers in Harvester [#7332](https://github.com/harvester/harvester/issues/7332)
- [FEATURE] Support manually configuring VM IP [#7299](https://github.com/harvester/harvester/issues/7299)
- [FEATURE] Live migration network [#5848](https://github.com/harvester/harvester/issues/5848)
- [FEATURE] CPU / Memory hotplug support [#5835](https://github.com/harvester/harvester/issues/5835)
- [FEATURE] Live migration progress awareness [#4352](https://github.com/harvester/harvester/issues/4352)
- [FEATURE] Online resize of disks / volumes attached to virtual machines [#2811](https://github.com/harvester/harvester/issues/2811)

## Enhancements

- [ENHANCEMENT] CPU / Memory Hotplug cannot work on single node [#8774](https://github.com/harvester/harvester/issues/8774)
- [ENHANCEMENT]  add support for kubeovn-webhook in kubeovn-operator packaging [#8676](https://github.com/harvester/harvester/issues/8676)
- [ENHANCEMENT] Node-Disk-Manager should be able to clean up the out-of-date LVM - Part 2 [#8656](https://github.com/harvester/harvester/issues/8656)
- [ENHANCEMENT] 3rd party csi enhancements for vm-import-controller [#8634](https://github.com/harvester/harvester/issues/8634)
- [GUI] [ENHANCEMENT] Both `vmstate-persistence` and `longhorn-static` StorageClasses should be treated as internal and not be used directly by users [#8562](https://github.com/harvester/harvester/issues/8562)
- [ENHANCEMENT] UI change to hide vmimages created by vm-import-controller [#8504](https://github.com/harvester/harvester/issues/8504)
- [UI][ENHANCEMENT] Align setting page popup menu style with other pages [#8496](https://github.com/harvester/harvester/issues/8496)
- [GUI] [ENHANCEMENT] SB Enhancements (NS selection and timeout) [#8494](https://github.com/harvester/harvester/issues/8494)
- [ENHANCEMENT] Log version and commit id when Harvester starts [#8486](https://github.com/harvester/harvester/issues/8486)
- [UI][ENHANCEMENT] Introduce commit-lint [#8482](https://github.com/harvester/harvester/issues/8482)
- [UI][ENHANCEMENT] Add searchbox in settings page [#8477](https://github.com/harvester/harvester/issues/8477)
- [ENHANCEMENT] Cleanup of Longhorn Orphan Engine and Replica Runtime Instances [#8474](https://github.com/harvester/harvester/issues/8474)
- [ENHANCEMENT] Add fcoe-utils package to baseos [#8457](https://github.com/harvester/harvester/issues/8457)
- [ENHANCEMENT][UI] Add confirmation pop-up for VM disruptive actions [#8420](https://github.com/harvester/harvester/issues/8420)
- [ENHANCEMENT] Add setting upgrade-config to UI [#8369](https://github.com/harvester/harvester/issues/8369)
- [ENHANCEMENT] block the auto-provision during the upgrade [#8296](https://github.com/harvester/harvester/issues/8296)
- [ENHANCEMENT] Control the upgrade sequence of harvester-crd and harvester managedchart [#8239](https://github.com/harvester/harvester/issues/8239)
- [ENHANCEMENT] iptables PREROUTING chain conflict introduced by Kube-OVN [#8217](https://github.com/harvester/harvester/issues/8217)
- [FEATURE] Improve wording of installer to reflect reboot action and sudo requirement [#8201](https://github.com/harvester/harvester/issues/8201)
- [ENHANCEMENT] Upgrade controller needs to resume those paused managedcharts [#8195](https://github.com/harvester/harvester/issues/8195)
- [ENHANCEMENT] Upgrade pre-flight checks the matching between node and machine objects [#8179](https://github.com/harvester/harvester/issues/8179)
- [ENHANCEMENT] Reduce the downtime for VMs with PCI devices during Harvester upgrade [#8049](https://github.com/harvester/harvester/issues/8049)
- [ENHANCEMENT] Log the origin VMware VM specification for better troubleshooting [#8013](https://github.com/harvester/harvester/issues/8013)
- [ENHANCEMENT] Improve auto-detection of the bus type of the VMware importer [#7987](https://github.com/harvester/harvester/issues/7987)
- [ENHANCEMENT] Node-Disk-Manager should be able to clean up the out-of-date LVM [#7961](https://github.com/harvester/harvester/issues/7961)
- [FEATURE] boot_order support for network interfaces [#7695](https://github.com/harvester/harvester/issues/7695)
- [ENHANCEMENT] Modify default behavior of adding all VLANs to the management bridge/bond [#7650](https://github.com/harvester/harvester/issues/7650)
- [ENHANCEMENT] Do a VM guest shut down if possible [#7483](https://github.com/harvester/harvester/issues/7483)
- [ENHANCEMENT] TCP and UDP ports flagged as duplicate [#7480](https://github.com/harvester/harvester/issues/7480)
- [ENHANCEMENT] SB Enhancements (NS selection and timeout) [#7385](https://github.com/harvester/harvester/issues/7385)
- [GUI] [ENHANCEMENT] Remove guest cluster in Rancher if related namespace is removed in Harvester [#7356](https://github.com/harvester/harvester/issues/7356)
- [GUI] [ENHANCEMENT] Migration should show the proper status and progress in the UI [#7339](https://github.com/harvester/harvester/issues/7339)
- [ENHANCEMENT] Improve Orphan Engine Process Detection for Upgrade [#7325](https://github.com/harvester/harvester/issues/7325)
- [ENHANCEMENT] Add Validating Admission Webhook/Policy To Reject RKE2 CIDRs Changes In The Config Map [#7196](https://github.com/harvester/harvester/issues/7196)
- [ENHANCEMENT] Remove guest cluster in Rancher if related namespace is removed in Harvester [#7136](https://github.com/harvester/harvester/issues/7136)
- [GUI] [ENHANCEMENT] Add Description column in namespace and image pages [#6869](https://github.com/harvester/harvester/issues/6869)
- [ENHANCEMENT] Remove versions not support ARM in image-lists-archive [#6794](https://github.com/harvester/harvester/issues/6794)
- [ENHANCEMENT] Provide More Info When Using a USB PCI Controller's Plugged In USB Devices [#6779](https://github.com/harvester/harvester/issues/6779)
- [ENHANCEMENT] Specifing Static IP Address Unintutitve [#6295](https://github.com/harvester/harvester/issues/6295)
- [ENHANCEMENT] Update monitoring and logging with new addon template generation [#6289](https://github.com/harvester/harvester/issues/6289)
- [ENHANCEMENT] Review LH setting auto-delete-pod-when-volume-detached-unexpectedly [#5580](https://github.com/harvester/harvester/issues/5580)
- [ENHANCEMENT] Witness node should skip the data disk selection [#5457](https://github.com/harvester/harvester/issues/5457)
- [BUG] The `promptRemove.confirmRelatedResource` message needs to be refactored [#5280](https://github.com/harvester/harvester/issues/5280)
- [ENHANCEMENT] harvester-installer: handle '\r' in STDOUT from harv-install to provide better progress display and avoid potential lockups [#5095](https://github.com/harvester/harvester/issues/5095)
- [ENHANCEMENT] When failed to restore vm from backup should display well message on progress bar and volume percentage  [#5038](https://github.com/harvester/harvester/issues/5038)
- [ENHANCEMENT] Add LoadBalancer resource, data source to terraform-provider-harvester [#4814](https://github.com/harvester/harvester/issues/4814)
- [ENHANCEMENT] Add IPPool resource, data source to terraform-provider-harvester [#4813](https://github.com/harvester/harvester/issues/4813)
- [ENHANCEMENT] Ensure the cluster network to have same MTU and propagate to NADs [#4355](https://github.com/harvester/harvester/issues/4355)
- [ENHANCEMENT] Allow updating Settings using Terraform [#4354](https://github.com/harvester/harvester/issues/4354)
- [ENHANCEMENT] Display error message for cluster config on UI [#3828](https://github.com/harvester/harvester/issues/3828)
- [TASK] UI should handle exception when downloading an imported yet image [#8050](https://github.com/harvester/harvester/issues/8050)
- [TASK] Bump containerized-data-importer v1.62.0 [#8796](https://github.com/harvester/harvester/issues/8796)
- [TASK] Bump go v1.24 [#8728](https://github.com/harvester/harvester/issues/8728)
- [TASK] Bump Longhorn v1.9.1 [#8718](https://github.com/harvester/harvester/issues/8718)
- [TASK] Bump Kubevirt v1.5 [#8642](https://github.com/harvester/harvester/issues/8642)
- [TASK] Bump RKE2 and Rancher for v1.6 [#8552](https://github.com/harvester/harvester/issues/8552)

## Bug Fixes

- [BUG] After edit and reboot VM, the `spec.domain.memory.guest` field is lost [#8907](https://github.com/harvester/harvester/issues/8907)
- [BUG] [UI] page be redirect to incorrect URL [#8901](https://github.com/harvester/harvester/issues/8901)
- [BUG] Clone vm with cpu/memory hotplug enabled, the cloned vm will use Maximum memory value [#8890](https://github.com/harvester/harvester/issues/8890)
- [BUG] Upgrading to v1.6-head gets stuck at the post-draining phase if not using multipath disks [#8888](https://github.com/harvester/harvester/issues/8888)
- [BUG] Under default VPC, custom Subnet can not access default subnet [#8879](https://github.com/harvester/harvester/issues/8879)
- [BUG] Default Subnet ovn-default has `natOutgoing: true` but can not access internet even when the gateway is correctly configured [#8862](https://github.com/harvester/harvester/issues/8862)
- [BUG]  Cluster nodes Error after re-enabling kubeovn-operator [#8852](https://github.com/harvester/harvester/issues/8852)
- [BUG] DHCP in OverlayNetwork VMs doesn't work [#8847](https://github.com/harvester/harvester/issues/8847)
- [BUG] Last node remain un-upgraded when upgrading 3-node clusters with witness nodes [#8843](https://github.com/harvester/harvester/issues/8843)
- [BUG] Upgrading clusters with witness nodes from v1.5.1 to v1.6.0-rc5 failed resulting in Rancher flapping between versions [#8841](https://github.com/harvester/harvester/issues/8841)
- [BUG] network config fails to apply during install when using non-CIDR static IP address [#8809](https://github.com/harvester/harvester/issues/8809)
- [BUG][UI] Unable to import harvester into Rancher if ui extension is in lower version [#8777](https://github.com/harvester/harvester/issues/8777)
- [BUG] Upgrade repo VM cannot start after being evacuated to other nodes or node rebooted [#8773](https://github.com/harvester/harvester/issues/8773)
- [BUG] Upgrading to v1.6.0-rc3 is stuck at the Upgrading System Service stage waiting for a wrong rancher-webhook version indefinitely [#8750](https://github.com/harvester/harvester/issues/8750)
- [BUG] Guest VMs booting in EFI mode are no longer able to PXE boot after Harvester v1.5.0 [#8746](https://github.com/harvester/harvester/issues/8746)
- [BUG] Show configuration panel title and button display with %Variable% strings when access from Rancher [#8743](https://github.com/harvester/harvester/issues/8743)
- [BUG] Libvirt nvram conversion error for VM images w/o EFI partition [#8723](https://github.com/harvester/harvester/issues/8723)
- [BUG] Create vm backup always stuck in `Progressing` state while the progress already shows completed [#8701](https://github.com/harvester/harvester/issues/8701)
- [BUG] kube-ovn internal join subnet looks to be blocked by network-webhook [#8698](https://github.com/harvester/harvester/issues/8698)
- [BUG] Upgrade v1.4.2 --> v1.5.1 stuck Post-draining when node disks use multipathing (mpath) [#8689](https://github.com/harvester/harvester/issues/8689)
- [BUG] Failed to upgrade the embedded Rancher even though the entire Harvester upgrade completed [#8684](https://github.com/harvester/harvester/issues/8684)
- [BUG] harvester-network-webhook keeps showing subnets & vpcs error logs [#8677](https://github.com/harvester/harvester/issues/8677)
- [GUI] [BUG] Volume online resizing is blocked when configured from the VM page [#8674](https://github.com/harvester/harvester/issues/8674)
- [BUG] VM can't actually migrate to the correct node we specify in the list [#8670](https://github.com/harvester/harvester/issues/8670)
- [BUG] VMBackup Fails to Transition to Ready Status [#8647](https://github.com/harvester/harvester/issues/8647)
- [BUG] `make generate` is broken due to the untidy import packages [#8644](https://github.com/harvester/harvester/issues/8644)
- [BUG] UI shows Required value when creating a VM backup, even there is a name [#8641](https://github.com/harvester/harvester/issues/8641)
- [BUG] crash in upgrade version syncer [#8639](https://github.com/harvester/harvester/issues/8639)
- [BUG] VM can't run and keep showing Server error if the VM machine type is pc-q35 [#8628](https://github.com/harvester/harvester/issues/8628)
- [BUG] Volume online resizing is blocked when configured from the VM page [#8625](https://github.com/harvester/harvester/issues/8625)
- [BUG] Stuck and unsuccessful disabling the kubeovn-operator add-on [#8609](https://github.com/harvester/harvester/issues/8609)
- [BUG] In Rancher v2.12.0-alpha17 w/ Harvester v1.6-9d264654-head || v1.6.0-dev20250703 Can Not See User Data or Network Data Templates in RKE2 Creation GUI [#8601](https://github.com/harvester/harvester/issues/8601)
- [BUG] harvester-network-controller-manager is broken on v1.6-head [#8589](https://github.com/harvester/harvester/issues/8589)
- [BUG] Harvester uses RWX mode to edit Volume even the access mode is RWO [#8583](https://github.com/harvester/harvester/issues/8583)
- [BUG] Can't migrate network config to another cluster network in Rancher integrated Harvester [#8559](https://github.com/harvester/harvester/issues/8559)
- [BUG] After clone the secret with kind "secret", the cloned one become kind "Opaque" [#8555](https://github.com/harvester/harvester/issues/8555)
- [BUG] Delete vm snapshot confirmation dialog display "Virtual Machine Backup" [#8554](https://github.com/harvester/harvester/issues/8554)
- [BUG] VM migration detail page can't correctly reflect migration failure [#8539](https://github.com/harvester/harvester/issues/8539)
- [BUG] CSI Plugin restart triggers unintended restart of migratable RWX volume workloads (VMs) [#8534](https://github.com/harvester/harvester/issues/8534)
- [BUG] Upgrade from v1.5.0 to master branch stuck [#8515](https://github.com/harvester/harvester/issues/8515)
- [BUG] The harvester-eventrouter image tag is still v1.5.0-dev.0 [#8503](https://github.com/harvester/harvester/issues/8503)
- [BUG] Unable to load the cluster monitoring chart on Rancher managed Harvester dashboard page [#8498](https://github.com/harvester/harvester/issues/8498)
- [BUG] Sharemanager is being terminated even if there are pods using its RWX volume [#8445](https://github.com/harvester/harvester/issues/8445)
- [BUG] VM secret does not get deleted after deleting VM [#8443](https://github.com/harvester/harvester/issues/8443)
- [BUG] http-proxy settings are not saved [#8426](https://github.com/harvester/harvester/issues/8426)
- [BUG] Harvester deployment is stuck not running if RKE2 Manifests for VMs are set to be runStrategy: RerunOnFailure [#8407](https://github.com/harvester/harvester/issues/8407)
- [BUG] [UI] Number of Volumes shown in Dashboard wrong [#8405](https://github.com/harvester/harvester/issues/8405)
- [BUG] On Harvester v1.6.0 rke2-ingress-nginx-controller does not capture nginx access log by default [#8397](https://github.com/harvester/harvester/issues/8397)
- [BUG] Labels and Instance Labels from VM template are not applied when creating VM [#8394](https://github.com/harvester/harvester/issues/8394)
- [BUG] vfio-pci driver unloading [#8385](https://github.com/harvester/harvester/issues/8385)
- [BUG] Upgrade helper script could possibly grep inaccurate node [#8359](https://github.com/harvester/harvester/issues/8359)
- [BUG] Cannot work normally with RWX volume on the guest cluster [#8354](https://github.com/harvester/harvester/issues/8354)
- [BUG] pcidevice enablement fails with rancher v2.10.1 and harvester v1.4.1 [#8346](https://github.com/harvester/harvester/issues/8346)
- [BUG] Can't Restore 3rd Party Storage Data Volumes Using CSI VolumeSnapshot [#8334](https://github.com/harvester/harvester/issues/8334)
- [BUG] VM Image Is Unexpectedly Recovered After Deletion [#8292](https://github.com/harvester/harvester/issues/8292)
- [BUG]  Harvester upgrade ISO related internal image can be selected to create VM when an upgrade is ongoing [#8277](https://github.com/harvester/harvester/issues/8277)
- [BUG] Addon Update Warning when enabling/disabling [#8259](https://github.com/harvester/harvester/issues/8259)
- [BUG] Harvester-installer can not be run in Vagrant box because of missing iscsiadm executable [#8258](https://github.com/harvester/harvester/issues/8258)
- [GUI] [BUG] VM Access Credentials SSH Keys Not Rendering in Rancher v2.10.5 [#8244](https://github.com/harvester/harvester/issues/8244)
- [BUG] Upgrade Helper Encountered Pre-Check Error on Harvester v1.3.2 [#8241](https://github.com/harvester/harvester/issues/8241)
- [BUG] VM Access Credentials SSH Keys Not Rendering in Rancher v2.10.5 [#8238](https://github.com/harvester/harvester/issues/8238)
- [BUG] User data becomes empty after change OS type from Windows to Linux [#8234](https://github.com/harvester/harvester/issues/8234)
- [BUG] user data #cloud-config comment header is missing when adding / removing ssh key [#8230](https://github.com/harvester/harvester/issues/8230)
- [BUG] Release of duplicate loadbalancer IP fails with error "fail to get allocator" [#8221](https://github.com/harvester/harvester/issues/8221)
- [BUG] baseline pod security standard failures [#8218](https://github.com/harvester/harvester/issues/8218)
- [BUG] Default cloud config path in create harvester downstream cluster is incorrect [#8204](https://github.com/harvester/harvester/issues/8204)
- [BUG] Unable to schedule VM on one particular node. [#8182](https://github.com/harvester/harvester/issues/8182)
- [BUG] Images created with Terraform provider do not have storage classes labelled - Generate template gives error about storageclass.storage.k8s.io "" not found. [#8166](https://github.com/harvester/harvester/issues/8166)
- [BUG] KubeVirt CRD wasn't updated when upgrading [#8163](https://github.com/harvester/harvester/issues/8163)
- [BUG] The cni pod network cache cleanup does not work in all cases [#8150](https://github.com/harvester/harvester/issues/8150)
- [BUG] Can NOT select/create SSH key when modify VM template [#8143](https://github.com/harvester/harvester/issues/8143)
- [BUG] spec.template.metadata.annotations[container.apparmor.security.beta.kubernetes.io/harvester-webhook]: deprecated since v1.30 [#8116](https://github.com/harvester/harvester/issues/8116)
- [BUG] VM with NAD network blocks namespace deletion [#8109](https://github.com/harvester/harvester/issues/8109)
- [BUG] Hotplug network during VM migration causes the VM reboot after migration and the target node Cordoned [#8107](https://github.com/harvester/harvester/issues/8107)
- [BUG] Can NOT delete an oversized Not Ready volume [#8096](https://github.com/harvester/harvester/issues/8096)
- [BUG] Different Clusters Bond/Bridges are added to the mgmt bridge. [#8067](https://github.com/harvester/harvester/issues/8067)
- [BUG] v1.5.0-rc4 `harvester.install.wipeAllDisks=true` on GRUB edit install of Net Images AMD64 ISO Interactive Installation Breaks Install [#8043](https://github.com/harvester/harvester/issues/8043)
- [BUG] Set default bond mode to Active-Backup for mgmt during harvester installation [#8042](https://github.com/harvester/harvester/issues/8042)
- [BUG] Can't add a NFS volume after VM is created while VM is turned on [#8022](https://github.com/harvester/harvester/issues/8022)
- [BUG] GetImageStorageClassName() is hardcoding the name `longhorn` [#8019](https://github.com/harvester/harvester/issues/8019)
- [BUG] Constant high CPU load from Rancher process [#8004](https://github.com/harvester/harvester/issues/8004)
- [BUG] SMM is not enabled when TPM is enabled in VMware source client [#7984](https://github.com/harvester/harvester/issues/7984)
- [TASK] Check if status is being overwritten when editing across the application [#7971](https://github.com/harvester/harvester/issues/7971)
- [BUG] Deleting Addon Harvester CSI Driver LVM Causes Issues w/ new Virtual Machine Images [#7935](https://github.com/harvester/harvester/issues/7935)
- [BUG] unexpected images loaded from backup-target [#7918](https://github.com/harvester/harvester/issues/7918)
- [BUG] Harvester upgrade controller does not cleanup repo service object [#7895](https://github.com/harvester/harvester/issues/7895)
- [BUG] Rate Limit Reached When Updating Sprint Issues [#7866](https://github.com/harvester/harvester/issues/7866)
- [BUG] Take VM snapshot show null error in UI [#7859](https://github.com/harvester/harvester/issues/7859)
- [BUG] Clone VM with invalid character show null error in UI [#7827](https://github.com/harvester/harvester/issues/7827)
- [BUG] invalid cluster name doesn't cause error message [#7809](https://github.com/harvester/harvester/issues/7809)
- [BUG] Guest Cluster RWX Volumes Race Condition [#7796](https://github.com/harvester/harvester/issues/7796)
- [BUG] ssh-user and ssh_keys in terraform don't work [#7790](https://github.com/harvester/harvester/issues/7790)
- [BUG] vm-import-controller maps vm's using networks backed by dswitch to pod network on import [#7774](https://github.com/harvester/harvester/issues/7774)
- [Enhancement] Harvester v1.4 Pre-Upgrade Script should Check LH Eviction Request [#7717](https://github.com/harvester/harvester/issues/7717)
- [BUG] node-manager does not update NTP sync status correctly [#7696](https://github.com/harvester/harvester/issues/7696)
- [BUG] Improve VMBackup status when the data in backup target is removed [#7692](https://github.com/harvester/harvester/issues/7692)
- [BUG][UI] Air-gapped OS upgrade page is not work [#7690](https://github.com/harvester/harvester/issues/7690)
- [BUG] Update cluster-network/vlan-id to a VM Vlan Network does not update the bridge vlan config on the node [#7676](https://github.com/harvester/harvester/issues/7676)
- [BUG] Admission webhook errors can not be dismissed/closed [#7616](https://github.com/harvester/harvester/issues/7616)
- [BUG] Should drop Migrate UI option on Stopped VM if it is not intended [#7538](https://github.com/harvester/harvester/issues/7538)
- [BUG] bold not rendered in confirmation of pause/stop [#7517](https://github.com/harvester/harvester/issues/7517)
- [GUI] [BUG] VM's machine type options is not support [#7357](https://github.com/harvester/harvester/issues/7357)
- [BUG] Setting a fully-qualified Hostname in the Harvester Installer causes installation to fail [#7312](https://github.com/harvester/harvester/issues/7312)
- [BUG] Cluster member role user found 'backup target does not match the existing one' message on vm backup   [#7254](https://github.com/harvester/harvester/issues/7254)
- [BUG] Failed to clone an image file created by file upload, prompt 'File Name is required' error [#7207](https://github.com/harvester/harvester/issues/7207)
- [BUG] Fix the sync of migrate button on UI [#7180](https://github.com/harvester/harvester/issues/7180)
- [BUG] disks are visible in cli but not in UI in Harvester 1.4.0 [#7173](https://github.com/harvester/harvester/issues/7173)
- [BUG] Rancher integration w/ Harv v1.4.0 and Rancher v2.9.2 failing [#7105](https://github.com/harvester/harvester/issues/7105)
- [BUG] Volume's name is not required [#7030](https://github.com/harvester/harvester/issues/7030)
- [BUG] Fail to delete an Off VM if its network was deleted [#6961](https://github.com/harvester/harvester/issues/6961)
- [BUG] `VirtualMachine generation is 2, but latest observed generation is 1` is observed on a freshly installed cluster [#6844](https://github.com/harvester/harvester/issues/6844)
- [BUG] API Key table is not refreshed with latest data when deleting API key [#6841](https://github.com/harvester/harvester/issues/6841)
- [BUG] USB Device Using VM Has Migrate As An Action Option [#6806](https://github.com/harvester/harvester/issues/6806)
- [BUG] virt-controller crashLoopBackOff [#6749](https://github.com/harvester/harvester/issues/6749)
- [BUG] Harvester Terraform Provider build disabled on darwin (macOS) [#6655](https://github.com/harvester/harvester/issues/6655)
- [BUG] No OpenStack resources clean up is done in case of error [#6676](https://github.com/harvester/harvester/issues/6676)
- [BUG] Managed DHCP service should filter out VMs attaching to the pod network [#6624](https://github.com/harvester/harvester/issues/6624)
- [BUG] Fail to snapshot/backup a Running RHEL9 VM w/ extra disk mount due to 'Failed to freeze file system' [#6497](https://github.com/harvester/harvester/issues/6497)
- [BUG] vgpu passthrough failure with NVIDIA RTX5000 ADA GPUs [#6294](https://github.com/harvester/harvester/issues/6294)
- [BUG] IPPool Config should provide same content as YAML [#6046](https://github.com/harvester/harvester/issues/6046)
- [BUG] Disable harvesterhci.io/imageDisplayName label in edit VM lmage page [#6031](https://github.com/harvester/harvester/issues/6031)
- [BUG] Lost `status` field after Virtual Machine image update [#6030](https://github.com/harvester/harvester/issues/6030)
- [BUG] Generate template with data doesn't use default storage class [#5737](https://github.com/harvester/harvester/issues/5737)
- [BUG] Checkbox "Install guest agent" removes all custom items from "packages" and "runcmd" of "User Data Template" [#5642](https://github.com/harvester/harvester/issues/5642)
- [BUG] Harvester/kubevirt and high mem gpus with a 32 bit BAR memory slot [#5619](https://github.com/harvester/harvester/issues/5619)
- [BUG] Host info showing hardware-based virtualization is disabled on arm server [#5366](https://github.com/harvester/harvester/issues/5366)
- [BUG] VM's machine type options is not support [#5364](https://github.com/harvester/harvester/issues/5364)
- [BUG] `support-bundle-expiration` can be invalid value `000003333`  [#5074](https://github.com/harvester/harvester/issues/5074)
- [BUG] Service objects of LoadBalancer type in guest clusters are stuck in a pending state [#4689](https://github.com/harvester/harvester/issues/4689)
- [BUG]  Out-of-Band Access on Host (harvester-seeder addon) fails to retrieve updated SSL cert [#4629](https://github.com/harvester/harvester/issues/4629)
- [BUG] VMs from successive "Restore New" backup/snapshot tend to get the same IP.  [#4474](https://github.com/harvester/harvester/issues/4474)
- [BUG] Namespace harvester-public links.update is not shown correctly [#2788](https://github.com/harvester/harvester/issues/2788)
- [BUG] Upgrade -> what to do in case /usr/local does not have >25 GB free disk space [#2668](https://github.com/harvester/harvester/issues/2668)


## Others

- [DOC] The network configuration for VM live migration [#8911](https://github.com/harvester/harvester/issues/8911)
- [DOC] Mention VMware Tools dependency to Gracefully Shutdown VMs that are importing [#8902](https://github.com/harvester/harvester/issues/8902)
- [DOC] explain new wipedisks behaviour in Harvester v1.5+ [#8825](https://github.com/harvester/harvester/issues/8825)
- [DOC] We need to explain how VMs behave during an upgrade [#8823](https://github.com/harvester/harvester/issues/8823)
- [BUG] kubeovn breaks longhorn replication in HA setup [#8820](https://github.com/harvester/harvester/issues/8820)
- [BUG] No namespaces information when trying to change the support-bundle-namespaces settings [#8739](https://github.com/harvester/harvester/issues/8739)
- [RELEASE] Release v1.6.0 [#8638](https://github.com/harvester/harvester/issues/8638)
- [DOC] Update a known issue to monitoring where pods are instantly killed [#8565](https://github.com/harvester/harvester/issues/8565)
- [DOC] Guide for Overlay Networks HowTo with KubeOVN on Harvester and Limitations in 1.6 [#8527](https://github.com/harvester/harvester/issues/8527)
- [DOC] Document steps to specify service CIDR during creation of harvester-vm-dhcp-controller add-on [#8448](https://github.com/harvester/harvester/issues/8448)
- [DOC] Document should have detailed information about VM affinity [#8350](https://github.com/harvester/harvester/issues/8350)
- [DOC] Add security guidance for PSA enforcement in user namespaces and RBAC to protect system namespaces [#8223](https://github.com/harvester/harvester/issues/8223)
- [DOC] Refer to enterprise documentation for certified third-party storage solutions [#8183](https://github.com/harvester/harvester/issues/8183)
- [CI] Create e2e test issue when issue has require/auto-e2e-test label and close it when label is removed [#8134](https://github.com/harvester/harvester/issues/8134)
- [DOC] Informing users that the daily build URL should not be used for VM image creation [#7959](https://github.com/harvester/harvester/issues/7959)
- [DOC] Harvester UI extension upgrade [#7757](https://github.com/harvester/harvester/issues/7757)
- [DOC] Enabling multipathd after installation [#7469](https://github.com/harvester/harvester/issues/7469)
- [QUESTION] Upgrading rancher-vcluster addon? [#7284](https://github.com/harvester/harvester/issues/7284)
- [DOC] Add how to do IPXE installation with VLAN management network [#6923](https://github.com/harvester/harvester/issues/6923)
- [DOC] Advanced => Addons => PCI Devices, a sublink is broken [#6890](https://github.com/harvester/harvester/issues/6890)
- [DOC] give a way to disable password login [#4979](https://github.com/harvester/harvester/issues/4979)
- [TASK] Remove RKE1 support [#7873](https://github.com/harvester/harvester/issues/7873)

## Known Issues

- [BUG] Dangling Longhorn Volume State When Live Migration Terminates Unexpectedly [#8904](https://github.com/harvester/harvester/issues/8904)
- [backport v1.6] [BUG] Can't add volume, delete and backup vm when vm enabled cpu pinning while cpu manager is `disabled` [#8834](https://github.com/harvester/harvester/issues/8834)
- [BUG] Can't add volume, delete and backup vm when vm enabled cpu pinning while cpu manager is `disabled` [#8778](https://github.com/harvester/harvester/issues/8778)
- [BUG] ip count on subnet not managed correctly when VMs are stopped and deleted [#8693](https://github.com/harvester/harvester/issues/8693)

## Deprecations and Removals 

### Rancher Kubernetes Engine (RKE)

RKE reached its end-of-life on July 31, 2025. Because of this, support for RKE has been removed from Harvester v1.6.0. You will no longer be able to run Rancher-provisioned RKE clusters on this version or any future versions.

For better security and efficiency, you may want to replatform to RKE2. This process involves [creating new RKE2 clusters](https://docs.harvesterhci.io/v1.6/rancher/node/rke2-cluster) and migrating existing workloads from the old RKE clusters. In-place migration from RKE to RKE2 is not an option because of possible data loss. For more information, see [RKE End of Life](https://www.suse.com/support/kb/doc/?id=000021513).

### `install.wipedisks` setting

This setting was removed from Harvester v1.5. If you want to clear disk partitions with the `COS_OEM` label, use [`install.wipe_all_disks`](https://docs.harvesterhci.io/v1.6/install/harvester-configuration#installwipe_all_disks) and [`install.wipe_disks_list`](https://docs.harvesterhci.io/v1.6/install/harvester-configuration#installwipe_disks_list) instead.

## Components

| Component | Version |
| --- | --- |
| CDI | v1.62.0 |
| KubeVirt | v1.5.2 |
| Longhorn | v1.9.1 |
| Rancher (embedded) | v2.12.0 |
| RKE2 | v1.33.3 |
| SLE Micro | 5.5 |

# Contributors

Thank you to all the contributors who made this release possible.

@a110605
@albinsun
@asettle
@bk201
@brandboat
@c3y1huang
@connorkuehl
@drewmullen
@ejweber
@FrankYang0529
@ibrokethecloud
@ihcsim
@innobead
@irishgordo
@jillian-maroket
@khushboo-rancher
@lanfon72
@LucasSaintarbor
@m-ildefons
@macedogm
@mingshuoqiu
@mlacko64
@nistei
@noahgildersleeve
@rebeccazzzz
@rrajendran17
@SKalt
@SlavikCA
@starbops
@TachunLin
@tayterz2
@tserong
@torchiaf
@Vicente-Cheng
@votdev
@w13915984028
@WebberHuang1118
@yasker
@Yu-Jack