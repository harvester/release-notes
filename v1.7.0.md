# Harvester v1.7.0 Release Notes

This release introduces several features, enhancements, and bug fixes that improve system quality and the overall user experience. The documentation is available at https://docs.harvesterhci.io/v1.7.

The Harvester team appreciates your contributions and looks forward to receiving feedback regarding this release.

## Downloads

### AMD64

#### Full ISO

:cd: https://releases.rancher.com/harvester/v1.7.0/harvester-v1.7.0-amd64.iso

:file_folder: https://releases.rancher.com/harvester/v1.7.0/harvester-v1.7.0-vmlinuz-amd64

:file_folder: https://releases.rancher.com/harvester/v1.7.0/harvester-v1.7.0-initrd-amd64

:file_folder: https://releases.rancher.com/harvester/v1.7.0/harvester-v1.7.0-rootfs-amd64.squashfs

:white_check_mark: https://releases.rancher.com/harvester/v1.7.0/harvester-v1.7.0-amd64.sha512

:memo: https://releases.rancher.com/harvester/v1.7.0/version.yaml


#### Net Install ISO

:cd: https://releases.rancher.com/harvester/v1.7.0/harvester-v1.7.0-amd64-net-install.iso

:memo: https://docs.harvesterhci.io/v1.7/install/net-install/


#### ARM64

:cd: https://releases.rancher.com/harvester/v1.7.0/harvester-v1.7.0-arm64.iso

:file_folder: https://releases.rancher.com/harvester/v1.7.0/harvester-v1.7.0-vmlinuz-arm64

:file_folder: https://releases.rancher.com/harvester/v1.7.0/harvester-v1.7.0-initrd-arm64

:file_folder: https://releases.rancher.com/harvester/v1.7.0/harvester-v1.7.0-rootfs-arm64.squashfs

:white_check_mark: https://releases.rancher.com/harvester/v1.7.0/harvester-v1.7.0-arm64.sha512

:memo: https://releases.rancher.com/harvester/v1.7.0/version-arm64.yaml


## Installation

Harvester can be installed using the [ISO image](https://docs.harvesterhci.io/v1.7/install/index), a [bootable USB drive](https://docs.harvesterhci.io/v1.7/install/usb-install), and [PXE boot](https://docs.harvesterhci.io/v1.7/install/pxe-boot-install/). A [net install ISO image](https://docs.harvesterhci.io/v1.7/install/net-install), which contains only the core OS components, is also now available. For more information, see the [Installation](https://docs.harvesterhci.io/v1.7/install/requirements) section of the documentation.

> [!IMPORTANT]
> The Harvester installer checks if the hardware meets the [minimum requirements](https://docs.harvesterhci.io/v1.7/install/requirements/#hardware-requirements) for production use. If any of the checks fail, installation is stopped and warnings are printed to the system console.
> 
> You can disable this behavior during iPXE installation (for testing purposes) by adding the kernel parameter `harvester.install.skipchecks=true` when you boot the system. For more information, see [Useful Kernel Parameters](https://docs.harvesterhci.io/v1.7/install/pxe-boot-install#harvesterinstallskipcheckstrue).
>
> We introduce the behavior change of installation with Harvester v1.7.0. Now, you need to configure your login password (for the default user `rancher`) during installation.

## Upgrades

Harvester only allows upgrades from supported versions. For more information about upgrade paths and procedures, see [Upgrading Harvester](https://docs.harvesterhci.io/v1.7/upgrade/index).

> [!IMPORTANT]
> Harvester v1.7.x transitions from wicked to NetworkManager for network management. If the management interface configuration was modified after installation, manual steps are required before upgrading to prevent errors. For more information, see [Migration from wicked to NetworkManager](https://docs.harvesterhci.io/v1.7/upgrade/v1-6-x-to-v1-7-x#migration-from-wicked-to-networkmanager).

## Highlights

### Experimental Features

#### Automatic Virtual Machine Workload Rebalancing

The **Virtual Machine Auto Balance** add-on allows Harvester to leverage the Kubernetes Descheduler for rebalancing of virtual machine workloads. When enabled on a multi-node cluster, the add-on deploys the Descheduler and a related configuration. The Descheduler evicts pods that are not optimally placed according to administrator-defined policies, enhancing resource utilization and improving cluster performance.

[Demo](https://youtu.be/LF_df4GYUxg) | [Documentation](https://docs.harvesterhci.io/v1.7/advanced/addons/virtual-machine-auto-balance) | [GitHub issue](https://github.com/harvester/harvester/issues/2311)

### Fully Supported Features

#### MIG-backed vGPU Device Support

Harvester automatically detects GPUs that support Multi-Instance GPU (MIG)-based partitioning. In v1.7.0, virtual machines can share vGPU devices backed by NVIDIA GPUs with this capability (such as the A100, H100, and H200). To leverage this feature, you must define the MIG profiles for your GPU, enable the MIG configuration, and enable the vGPU device associated with the MIG configuration.

[Documentation](https://docs.harvesterhci.io/v1.7/advanced/vgpusupport#mig-backed-vgpu-devices) | [GitHub issue](https://github.com/harvester/harvester/issues/8652)

#### Multipath Device Recognition and Management

Starting with v1.7.0, Harvester supports external storage devices that use multipath I/O (MPIO) to provide redundant data paths while preventing device identification conflicts. Through the `os.externalStorageConfig` setting, you can define the precise configuration (including device blacklisting and whitelisting) that the multipath daemon uses to manage devices and ensure storage stability.

[Demo](https://youtu.be/lWdVT8SOfPs) | [Documentation](https://docs.harvesterhci.io/v1.7/install/harvester-configuration#osexternalstorageconfig) | [GitHub issue](https://github.com/harvester/harvester/issues/6975)

#### NIC Hotplugging and Hotunplugging

Harvester v1.7.0 allows you to add and remove network interface controllers (NICs) from running live-migratable virtual machines without downtime. When you hotplug a NIC, Harvester migrates the virtual machine and connects the specified interface through bridge binding. Virtual machines that were created using the Harvester Node Driver and the Harvester Terraform Provider _do not support_ this feature.

[Demo](https://youtu.be/x3QA_Bj8lJc) | [Documentation](https://docs.harvesterhci.io/v1.7/vm/nic-hotplug) | [GitHub issue](https://github.com/harvester/harvester/issues/7042)

#### Open Virtual Format (OVF) Support

In Harvester v1.7.0, you can use the **VM Import Controller** add-on to import virtual machines using Open Virtual Appliance (OVA) files, which are a single-file version of OVF packages. Harvester supports downloading these OVA files via both HTTP and HTTPS. For endpoints that use HTTPS, you can configure a secret that includes basic authentication credentials for the URL and a CA certificate.

[Documentation](https://docs.harvesterhci.io/v1.7/advanced/addons/vmimport) | [GitHub issue](https://github.com/harvester/harvester/issues/4742)

#### Pausable Node Upgrades

Harvester v1.7.0 introduces a new option to the `upgrade-config` setting that enables pausing of automatic node upgrades for all or specific cluster nodes. This capability is essential for scenarios requiring manual maintenance or verification on the nodes before the upgrade continues. Once these tasks are completed, you must then explicitly instruct Harvester to resume the upgrade process on the target nodes.

[Documentation](https://docs.harvesterhci.io/v1.7/upgrade/index#pausing-node-upgrades) | [GitHub issue](https://github.com/harvester/harvester/issues/8980)

#### Transparent Hugepages Configuration

Hugepages allow the Linux kernel to allocate memory in chunks larger than the default size. In Harvester v1.7.0, you can configure transparent hugepage settings for each node to increase the overall system performance. Additionally, you can monitor memory allocation for both anonymous (transparent) and persistent (static) hugepages on the Harvester UI.

[Documentation](https://docs.harvesterhci.io/v1.7/host/#hugepages) | [GitHub issue](https://github.com/harvester/harvester/issues/5006)

#### Virtual Machine VLAN Trunking

Harvester v1.7.0 allows you to create VLAN trunk networks with multiple, overlapping VLAN ID ranges. When a virtual machine is attached to a VLAN trunk network, the guest operating system and applications are allowed to send and receive packets tagged with any of the VLAN IDs within the specified range.

[Demo](https://youtu.be/3Gn095RxE-M) | [Documentation](https://docs.harvesterhci.io/v1.7/networking/harvester-network/#vlan-trunk-network) | [GitHub issue](https://github.com/harvester/harvester/issues/766)

#### Volume Snapshots in Guest Clusters

v0.1.25 of the Harvester CSI Driver supports volume snapshots, providing point-in-time backup and restoration for guest cluster workloads. You can create, list, and delete snapshots of persistent volumes, and create new volumes from existing snapshots. To use this feature, you must ensure that the CSI snapshot controller and the required manifests are deployed on the guest cluster.

Harvester CSI Driver v0.1.25 is used in the following RKE2 versions: [v1.31.14+rke2r1](https://github.com/rancher/rke2/blob/v1.31.14%2Brke2r1/charts/chart_versions.yaml), [v1.32.10+rke2r1](https://github.com/rancher/rke2/blob/v1.32.10%2Brke2r1/charts/chart_versions.yaml), [v1.33.6+rke2r1](https://github.com/rancher/rke2/blob/v1.33.6%2Brke2r1/charts/chart_versions.yaml), and [v1.34.2+rke2r1](https://github.com/rancher/rke2/blob/v1.34.2%2Brke2r1/charts/chart_versions.yaml).

[Demo](https://youtu.be/VLY-YCIgHsE) | [Documentation](https://docs.harvesterhci.io/v1.7/rancher/csi-driver#volume-snapshots) | [GitHub issue](https://github.com/harvester/harvester/issues/3778)

## Features


- [GUI] [FEATURE] Support for HotPlugNICs from Kubevirt into Harvester [#9322](https://github.com/harvester/harvester/issues/9322)
- [GUI] [FEATURE] Support Longhorn V2 volume expansion [#9245](https://github.com/harvester/harvester/issues/9245)
- [FEATURE] Support Longhorn V2 volume expansion [#9162](https://github.com/harvester/harvester/issues/9162)
- [GUI] [FEATURE] Add support for MIG based vGPUs in Harvester [#9017](https://github.com/harvester/harvester/issues/9017)
- [FEATURE] Pause-ability of node upgrades [#8980](https://github.com/harvester/harvester/issues/8980)
- [GUI] [FEATURE] Expose kubevirt cluster wide migration settings via a harvester setting [#8929](https://github.com/harvester/harvester/issues/8929)
- [GUI] Support Network policies for micro segmentation of VMs using KubeOVN [#8683](https://github.com/harvester/harvester/issues/8683)
- [FEATURE] Add support for MIG based vGPUs in Harvester [#8652](https://github.com/harvester/harvester/issues/8652)
- [FEATURE] Expose kubevirt cluster wide migration settings via a harvester setting [#8581](https://github.com/harvester/harvester/issues/8581)
- [FEATURE] Add RECONNECT button to WebVNC [#8580](https://github.com/harvester/harvester/issues/8580)
- [FEATURE] create VM Image from terraform provider [#8232](https://github.com/harvester/harvester/issues/8232)
- [FEATURE] Configure Longhorn setting `storage-reserved-percentage-for-default-disk` on both installer [#8200](https://github.com/harvester/harvester/issues/8200)
- [ENHANCEMENT] Harvester Provisioned Clusters Not Able to Leverage Secure-Boot, EFI, CPU Pinning, and TPM capabilities [#7365](https://github.com/harvester/harvester/issues/7365)
- [FEATURE] Support for HotPlugNICs from Kubevirt into Harvester [#7042](https://github.com/harvester/harvester/issues/7042)
- [FEATURE] Bump base OS to SL Micro 6.1 [#7025](https://github.com/harvester/harvester/issues/7025)
- [FEATURE] Multipath device support for node-disk-manager [#6975](https://github.com/harvester/harvester/issues/6975)
- [FEATURE] Rancher cloud credential integration using service accounts [#5868](https://github.com/harvester/harvester/issues/5868)
- [FEATURE] Support EFI mode in guest cluster VMs in Rancher [#5224](https://github.com/harvester/harvester/issues/5224)
- [FEATURE] Support configuring transparent hugepages [#5006](https://github.com/harvester/harvester/issues/5006)
- [FEATURE] OVF import [#4742](https://github.com/harvester/harvester/issues/4742)
- [FEATURE] Implement CSI Snapshotting in the Harvester CSI Driver [#3778](https://github.com/harvester/harvester/issues/3778)
- [FEATURE] Change OS network tool from wicked to the NetworkManager [#3418](https://github.com/harvester/harvester/issues/3418)
- [FEATURE] Auto Live Migration (Rebalancing VM workloads) [#2311](https://github.com/harvester/harvester/issues/2311)
- [FEATURE] The Terraform provider for Harvester should provide a bootstrap feature (similar to rancher2) to setup a password and automatically download the configuration [#1797](https://github.com/harvester/harvester/issues/1797)
- [FEATURE] Add VLAN network for VM to support multiple or all VLAN IDs [#766](https://github.com/harvester/harvester/issues/766)


## Enhancements


- [ENHANCEMENT] UI should able to attach RWX block volume for multi VMs [#9604](https://github.com/harvester/harvester/issues/9604)
- [ENHANCEMENT] add /etc/NetworkManager to persistent paths, avoid using /oem YAML for network config [#9581](https://github.com/harvester/harvester/issues/9581)
- [ENHANCEMENT] modify exclude IPs placeholder to the correct format [#9494](https://github.com/harvester/harvester/issues/9494)
- [ENHANCEMENT] network-controller drop the dependency with harvester [#9359](https://github.com/harvester/harvester/issues/9359)
- [ENHANCEMENT] Replace klog with logrus on network-controller-harvester [#9338](https://github.com/harvester/harvester/issues/9338)
- [GUI] [ENHANCEMENT] Deprecating Harvester upgrade-repo virtual machine [#9286](https://github.com/harvester/harvester/issues/9286)
- [ENHANCEMENT] checking the Longhorn CRD version before upgrade [#9269](https://github.com/harvester/harvester/issues/9269)
- [ENHANCEMENT] Update kernel to support Dell PERC H975i RAID controller [#9228](https://github.com/harvester/harvester/issues/9228)
- [GUI] [ENHANCEMENT] Online Volume Resizing from the VM Page [#9205](https://github.com/harvester/harvester/issues/9205)
- [ENHANCEMENT] Optimize the load-balancer-harvester IPPool selector [#9053](https://github.com/harvester/harvester/issues/9053)
- [ENHANCEMENT] harvester-cloud-provider handle the conflict when updating the service object [#9019](https://github.com/harvester/harvester/issues/9019)
- [ENHANCEMENT] Better handling of failed maintenance mode [#8985](https://github.com/harvester/harvester/issues/8985)
- [UI][ENHANCEMENT] Remove ui-plugin-index setting and improve ui-source setting [#8937](https://github.com/harvester/harvester/issues/8937)
- [TASK] v170 Bump rancher-monitoring and rancher-logging [#8930](https://github.com/harvester/harvester/issues/8930)
- [ENHANCEMENT] Terraform harvester provider to differentiate ipv4 and ipv6 address fields in VM output ip_address [#8900](https://github.com/harvester/harvester/issues/8900)
- [ENHANCEMENT] Support allowed_topologies in harvester_storageclass [#8826](https://github.com/harvester/harvester/issues/8826)
- [ENHANCEMENT] Add webhook to prevent editing volume StorageClass in VM YAML [#8772](https://github.com/harvester/harvester/issues/8772)
- [ENHANCEMENT] Review the volume detacher behavior [#8770](https://github.com/harvester/harvester/issues/8770)
- [ENHANCEMENT] Review the daemonset longhorn-loop-device-cleaner [#8769](https://github.com/harvester/harvester/issues/8769)
- [ENHANCEMENT] Add node selector to terraform-provider-harvester [#8705](https://github.com/harvester/harvester/issues/8705)
- [ENHANCEMENT] Unable to bring up upgrade repo VM during post-draining in multi-node but single-replica StorageClass clusters [#8704](https://github.com/harvester/harvester/issues/8704)
- [ENHANCEMENT] Migrate VMs with KubeVirt underlying way [#8703](https://github.com/harvester/harvester/issues/8703)
- [ENHANCEMENT] Online Volume Resizing from the VM Manifest [#8669](https://github.com/harvester/harvester/issues/8669)
- [ENHANCEMENT] Add more live-migration-related checkpoints in the upgrade pre-check script [#8657](https://github.com/harvester/harvester/issues/8657)
- [ENHANCEMENT] drop machine type dropdown from VM advanced options [#8631](https://github.com/harvester/harvester/issues/8631)
- [ENHANCEMENT] protect the witness label and taint [#8571](https://github.com/harvester/harvester/issues/8571)
- [ENHANCEMENT] Both `vmstate-persistence` and `longhorn-static` StorageClasses should be treated as internal and not be used directly by users [#8561](https://github.com/harvester/harvester/issues/8561)
- [ENHANCEMENT] Remove validation that prevents RWX block volumes from being shared among VMs [#8422](https://github.com/harvester/harvester/issues/8422)
- [ENHANCEMENT] support node level driver override for nvidia-driver-toolkit [#8338](https://github.com/harvester/harvester/issues/8338)
- [GUI] [FEATURE] Add VLAN network for VM to support multiple or all VLAN IDs [#8271](https://github.com/harvester/harvester/issues/8271)
- [ENHANCEMENT] [seeder] Improved cluster deletion [#8172](https://github.com/harvester/harvester/issues/8172)
- [GUI] [ENHANCEMENT] Add cluster information to the Harvester VMs of Rancher guest cluster [#7519](https://github.com/harvester/harvester/issues/7519)
- [ENHANCEMENT] Allow user can forceFormat once the disk was removed from host before. [#7274](https://github.com/harvester/harvester/issues/7274)
- [ENHANCEMENT] Deprecating Harvester upgrade-repo virtual machine [#7101](https://github.com/harvester/harvester/issues/7101)
- [ENHANCEMENT] Set timeout for upgrade log infra scaffolding [#6855](https://github.com/harvester/harvester/issues/6855)
- [ENHANCEMENT] Apply new API handler structure to handlers [#6558](https://github.com/harvester/harvester/issues/6558)
- [ENHANCEMENT] Enable selection of the upgrade Image [#6183](https://github.com/harvester/harvester/issues/6183)
- [ENHANCEMENT] Let system labels show-able in host page [#6115](https://github.com/harvester/harvester/issues/6115)
- [ENHANCEMENT] Comprehensive VM live-migratability detection for upgrades [#5077](https://github.com/harvester/harvester/issues/5077)
- [ENHANCEMENT] Delete disk operation should consider data availability [#3344](https://github.com/harvester/harvester/issues/3344)
- [TASK] bump kubevirt for network controller [#9601](https://github.com/harvester/harvester/issues/9601)
- [TASK] KubeVirt 1.6.3 bump from BCL Virt [#9590](https://github.com/harvester/harvester/issues/9590)
- [TASK] Bump Longhorn v1.10.1 [#9472](https://github.com/harvester/harvester/issues/9472)
- [TASK] Bump Rancher to v2.13.0 and RKE2 to v1.34.1+rke2r1 [#9396](https://github.com/harvester/harvester/issues/9396)
- [TASK] Bump golang/k8s/BCI Image [#9279](https://github.com/harvester/harvester/issues/9279)
- [TASK] Bump Longhorn v1.10.0 for Harvester v1.7.0 [#9187](https://github.com/harvester/harvester/issues/9187)
- [TASK] Bump VMDP and add to the component update template [#9184](https://github.com/harvester/harvester/issues/9184)
- [TASK] validate vTPM Persistence and Live migration on Harvester v1.6.0 and v1.7.0 [#9181](https://github.com/harvester/harvester/issues/9181)
- [TASK] verify there are no wicked references / usage across harvester repos [#9148](https://github.com/harvester/harvester/issues/9148)
- [TASK] bump kubeovn-operator to support kubeovn v1.14.x [#9115](https://github.com/harvester/harvester/issues/9115)
- [TASK] Component updates for Harvester v1.7.0 [#9102](https://github.com/harvester/harvester/issues/9102)
- [TASK] Should not disable auto-cleanup-system-generated-snapshot during upgrade [#9045](https://github.com/harvester/harvester/issues/9045)
- [TASK] v170 bump longhorn to v1.10.x [#8988](https://github.com/harvester/harvester/issues/8988)
- [TASK] v170 Bump the Harvester integrated kube-vip [#8978](https://github.com/harvester/harvester/issues/8978)
- [TASK] Revisit the `deleteVolumeAttachments` on the Harvester node controller [#8945](https://github.com/harvester/harvester/issues/8945)
- [TASK] Component and library version update frequency and process [#8882](https://github.com/harvester/harvester/issues/8882)
- [TASK] Remove github.com/rancher/wrangler-cli dependency from rancherd [#8866](https://github.com/harvester/harvester/issues/8866)
- [TASK] Bump golangci-lint to latest [#8749](https://github.com/harvester/harvester/issues/8749)
- [TASK] Bump KubeVirt to v1.6 [#8719](https://github.com/harvester/harvester/issues/8719)
- [TASK] Drop the unused legacy upgrade code [#8938](https://github.com/harvester/harvester/issues/8938)
- [EPIC] 3rd party storage enhancements [#8026](https://github.com/harvester/harvester/issues/8026)
- [REFACTOR] Change VirtualMachineBackupStatus from optional to required [#6126](https://github.com/harvester/harvester/issues/6126)

## Bug Fixes


- [BUG] Failed to use ISO install to create binary for Harvester v1.7.0-rc7, prompt no Network connections file [#9768](https://github.com/harvester/harvester/issues/9768)
- [BUG] Upgrade stuck during the apply-manifests phase due to the node disconnected unexpectedly [#9746](https://github.com/harvester/harvester/issues/9746)
- [BUG] Kubelet stopped posting node status during Upgrading System Service when upgrade from 1.6.x to v1.7.0-rc6 [#9741](https://github.com/harvester/harvester/issues/9741)
- [BUG] kubeovn upgrade is stuck after update to harvester v1.7.0-rc6 [#9736](https://github.com/harvester/harvester/issues/9736)
- [BUG] VM Migration Stuck [#9705](https://github.com/harvester/harvester/issues/9705)
- [BUG] descheduler addon is not available in v1.6.1 -> v1.7.0-rc5 single node airgap upgrade [#9697](https://github.com/harvester/harvester/issues/9697)
- [BUG] harvester-seeder addon, upgrade from v1.6.1 to v1.7.0-rc5 fails to come back online post upgrade airgapped [#9696](https://github.com/harvester/harvester/issues/9696)
- Harvester 1.7.x - Add a configuration file for NetworkManager to ignore calico/flannel interfaces [#9684](https://github.com/harvester/harvester/issues/9684)
- [BUG] fqdn used after upgrade to 1.7.0-rc4, breaking etcd and harvester [#9666](https://github.com/harvester/harvester/issues/9666)
- [BUG] Harvester v1.7.0-rc4 cannot be installed in airgapped networks [#9664](https://github.com/harvester/harvester/issues/9664)
- [BUG] After adding new vlan network to an existing VM, it stuck in `Starting` state [#9659](https://github.com/harvester/harvester/issues/9659)
- [BUG] Failed to use template to create multiple vm instances, prompt failure of the volume is already used by VM [#9658](https://github.com/harvester/harvester/issues/9658)
- [BUG] After upgrade from v1.6.1 to v1.7.0-rc3, Running VM will Off and fail to migrate [#9648](https://github.com/harvester/harvester/issues/9648)
- [BUG] Upgrade will not start if the rancher-logging addon is not healthy [#9644](https://github.com/harvester/harvester/issues/9644)
- [BUG] Failed to upload file to create upgrade image in server-version setting [#9620](https://github.com/harvester/harvester/issues/9620)
- [BUG] upgrade failing from v1.7.0-rc2 -> v1.7.0-rc3 single node, image pull backoff `registry.suse.com/bci/bci-base:15.6` [#9605](https://github.com/harvester/harvester/issues/9605)
- [BUG] Upgrade might stuck with waiting for the VM migration with pre-draining stage [#9595](https://github.com/harvester/harvester/issues/9595)
- [BUG] Fail to same-version upgrade on v1.7.0-rc3 [#9594](https://github.com/harvester/harvester/issues/9594)
- [BUG] Creating VM from Advanced -> Templates page doesn't pull in values of template [#9565](https://github.com/harvester/harvester/issues/9565)
- [BUG] Support bundle namespace can't be selected [#9539](https://github.com/harvester/harvester/issues/9539)
- [BUG] Refresh the vGPU MIG Configuration detail page cause Advanced tab group broken [#9525](https://github.com/harvester/harvester/issues/9525)
- [BUG] Can't login harvester via ssh even use correct password [#9524](https://github.com/harvester/harvester/issues/9524)
- [BUG] Click the `Account & API keys` crashes the page and logout user to the login page [#9516](https://github.com/harvester/harvester/issues/9516)
- [BUG] v1.7.0-rc2 PreferredAuthentications required for ssh connections [#9510](https://github.com/harvester/harvester/issues/9510)
- [BUG] enabling multipathd fails on v1.7.0-rc2 [#9509](https://github.com/harvester/harvester/issues/9509)
- [BUG] fail to migrate VM second time in v1.7.0-rc2 [#9495](https://github.com/harvester/harvester/issues/9495)
- [BUG] upgrade-controller reports panic [#9470](https://github.com/harvester/harvester/issues/9470)
- [BUG] Network-contrller encountered OOM and needs to up the memory limit [#9469](https://github.com/harvester/harvester/issues/9469)
- [BUG] KubeOVN Can Not Be AirGapped master-head 11/10/2025 [#9456](https://github.com/harvester/harvester/issues/9456)
- [BUG] VM Volume expand failing with PX-CSI [#9454](https://github.com/harvester/harvester/issues/9454)
- [BUG] `descheduler` replica set for addon when enabled on single node harvester v1.7.0-rc1 sticks around in CrashLoopBackOff [#9431](https://github.com/harvester/harvester/issues/9431)
- [BUG] nil pointer dereference in Openstack source when image upload fails [#9419](https://github.com/harvester/harvester/issues/9419)
- [BUG] Second node cannot join with Rancher v2.13.0-alpha4 [#9414](https://github.com/harvester/harvester/issues/9414)
- [BUG] Live Migration might fail when ResourceQuota is set [#9411](https://github.com/harvester/harvester/issues/9411)
- [BUG] Rancher v2.13.0-alpha4 missing CRDs [#9409](https://github.com/harvester/harvester/issues/9409)
- [BUG] Adjust/Audit/Fix/Deprecate `rancher` user w/ Harvester master-head 10/31/2025 (SL Micro 6.1) 's SSH-ability [#9404](https://github.com/harvester/harvester/issues/9404)
- [BUG] Restore vm snapshot to replace existing vm would stuck in `Restoring` state [#9398](https://github.com/harvester/harvester/issues/9398)
- [BUG] Unable to login to Harvester UI after upgrade from v1.6.0 to master 0ffab5e0 [#9394](https://github.com/harvester/harvester/issues/9394)
- [BUG] Harvester Master Net Install Faililng VARIANT_ID="Harvester-20251030-b514d72" [#9393](https://github.com/harvester/harvester/issues/9393)
- [BUG] Modify ManagedChart break fleet bundle [#9373](https://github.com/harvester/harvester/issues/9373)
- [BUG] Upgrade stuck during v1.6.1 to master (0.0.0-master-e5a74a5d) [#9349](https://github.com/harvester/harvester/issues/9349)
- [BUG] Report the correct port when validating LB [#9337](https://github.com/harvester/harvester/issues/9337)
- [BUG] Click all `Show Configuration` can't open the configuration panel in Rancher v2.13.0-alpha2 integrated mode [#9331](https://github.com/harvester/harvester/issues/9331)
- [BUG] Skip witness node when considering minallocatableipaddr count for LH instance manager pods [#9325](https://github.com/harvester/harvester/issues/9325)
- [BUG] VM Image upload issue with 3rd-party storage [#9313](https://github.com/harvester/harvester/issues/9313)
- [BUG] Running VM shows "Restart action is required for the virtual machine configuration change to take effect" after upgrade to v1.7 [#9309](https://github.com/harvester/harvester/issues/9309)
- [BUG] A VM with null memory or cpu can be created [#9302](https://github.com/harvester/harvester/issues/9302)
- [BUG] `/var/lib/NetworkManager` not in persistent paths after upgrade from v1.6.x to v1.7.x [#9298](https://github.com/harvester/harvester/issues/9298)
- [BUG] v1.6.0 (upgrade from v1.5.1) upgrade to v1.6.1-rc2 stuck at Pre-drained [#9293](https://github.com/harvester/harvester/issues/9293)
- [BUG] Fail to enable rancher-logging addon during a multi-stages upgrade test [#9289](https://github.com/harvester/harvester/issues/9289)
- [BUG] Cluster Upgrade page reuses same VM image between File and URL options [#9283](https://github.com/harvester/harvester/issues/9283)
- [GUI] [BUG] miimon value not set to default(100ms) when user configures -1 from UI [#9274](https://github.com/harvester/harvester/issues/9274)
- [BUG] Error unmarshal !!seq into config.MultiPathConfig when upgrade from v1.6.0 to v1.7.0-dev-20250928 [#9258](https://github.com/harvester/harvester/issues/9258)
- [BUG] Harvester CDI backend crashes with OOM when HTTP server doesn't support range requests [#9247](https://github.com/harvester/harvester/issues/9247)
- [BUG] harvester-installer dashboard crashes with yaml unmarshal errors [#9240](https://github.com/harvester/harvester/issues/9240)
- [BUG] deploying v1.7.0-dev-20250928 fails: longhorn defaultSettings must be strings [#9223](https://github.com/harvester/harvester/issues/9223)
- [BUG] Newly created VMs fail to get IP addresses via DHCP with the Managed DHCP add-on since v1.6.0 [#9212](https://github.com/harvester/harvester/issues/9212)
- [BUG] Rancher v2.13-576218b22591c025978036c7aff4e8da1c78499d-head w/ Harvester v1.7.0-dev-20250914 - Can Not Install Latest UI Extension [#9209](https://github.com/harvester/harvester/issues/9209)
- [BUG]  When you save as yaml after editing the cloud config it updates the template [#9207](https://github.com/harvester/harvester/issues/9207)
- [BUG] Fix the alert KubeVirtNoAvailableNodesToRunVMs on Harvester [#9201](https://github.com/harvester/harvester/issues/9201)
- [BUG] Pre-check script fails on Certificates task when there is a .crt file located on the same directory where script is executed. [#9195](https://github.com/harvester/harvester/issues/9195)
- [BUG] Validator does not consider SC parameters misidentifying CDI default capabilities [#9191](https://github.com/harvester/harvester/issues/9191)
- [BUG] The improved network lookup preflight check does not work [#9190](https://github.com/harvester/harvester/issues/9190)
- [BUG] Fail to create VM with L2VlanNetwork due to "Masquerade interface only implemented with pod network" [#9165](https://github.com/harvester/harvester/issues/9165)
- [BUG] Maintenance mode can be enabled by adding annotation whereas the UI blocks the action [#9154](https://github.com/harvester/harvester/issues/9154)
- [BUG] Inherit mac address from enslaved interface for mgmt [#9145](https://github.com/harvester/harvester/issues/9145)
- [BUG] Panic was observed on loadbalancer-harvester webhook [#9103](https://github.com/harvester/harvester/issues/9103)
- [GUI] [BUG] Add harvester document link in create VPC page [#9099](https://github.com/harvester/harvester/issues/9099)
- [BUG] Installation of 1.6.0 does not progress past the "Network" screen [#9061](https://github.com/harvester/harvester/issues/9061)
- [BUG] PCI Passthrough VMs Will Not Boot with Default Harvester Settings in 1.6.0 [#9059](https://github.com/harvester/harvester/issues/9059)
- [BUG] Clone VM only should support secret volume [#9056](https://github.com/harvester/harvester/issues/9056)
- [BUG] Existing status conditions of VM Importer are not updated [#9035](https://github.com/harvester/harvester/issues/9035)
- [BUG] Network setup error during upgrade from v1.5.1 to v1.6.0 [#9033](https://github.com/harvester/harvester/issues/9033)
- [BUG]  Retain NIC Up State After Removal from Uplink Bonding to Enable Re-addition Without Manual Intervention [#9032](https://github.com/harvester/harvester/issues/9032)
- [BUG] Data Disk dropdown selects the wrong disk [#9031](https://github.com/harvester/harvester/issues/9031)
- [BUG] Should rollout kube-system/rke2-ingress-nginx-controller daemonset when reset ssl-certificates setting [#9029](https://github.com/harvester/harvester/issues/9029)
- [BUG] Upgrade stuck in Pre-drained and node Cordoned [#8977](https://github.com/harvester/harvester/issues/8977)
- [BUG] Incorrect stale longhorn volume check in upgrade checker [#8974](https://github.com/harvester/harvester/issues/8974)
- [BUG] pod mutator check for label app=rancher which can block vm from starting [#8962](https://github.com/harvester/harvester/issues/8962)
- [BUG][UI] Soft reboot button in VM VNC console not work [#8955](https://github.com/harvester/harvester/issues/8955)
- [BUG] controller keeps re-queuing vmi CR when deleting vm CR [#8954](https://github.com/harvester/harvester/issues/8954)
- [BUG] Deleting a VM Network on mgmt cluster removes the mgmt vlan causing Harvester node to lose connectivity [#8953](https://github.com/harvester/harvester/issues/8953)
- [BUG] PCI Device Plugin failed to delete pcideviceclaim CR [#8951](https://github.com/harvester/harvester/issues/8951)
- [BUG] Parameters defined in YAML are lost after saving in form mode [#8946](https://github.com/harvester/harvester/issues/8946)
- [BUG] Unexpected behaviour using gateway ip address in the block list of subnet acl [#8935](https://github.com/harvester/harvester/issues/8935)
- [BUG] Replica Replenishment Wait Interval from longhorn settings will be reset to the value stored in Upgrade CR annotation [#8934](https://github.com/harvester/harvester/issues/8934)
- [BUG] Add DHCP related configuration in create subnet UI [#8912](https://github.com/harvester/harvester/issues/8912)
- [BUG] v1.6.0-rc6 Cluster Network Config aka Vlan Config for Cluster Network, it's vlan status upon reboot becomes bad [#8910](https://github.com/harvester/harvester/issues/8910)
- [BUG] Dangling Longhorn Volume State When Live Migration Terminates Unexpectedly [#8904](https://github.com/harvester/harvester/issues/8904)
- [BUG] v1.6.0-rc3 vm-import-controller gracefulShutdownTimeoutSeconds, once it is exceeded a forecful shutdown is not performed and VM never migrates from VMware [#8903](https://github.com/harvester/harvester/issues/8903)
- [GUI] [BUG] CPU cores looks to be lost one core from the host page [#8870](https://github.com/harvester/harvester/issues/8870)
- [BUG] CPU cores looks to be lost one core from the host page [#8869](https://github.com/harvester/harvester/issues/8869)
- [BUG] [Terraform] route information is not correctly imported into Terraform state [#8867](https://github.com/harvester/harvester/issues/8867)
- [BUG] Can't correctly delete node after enabled kubeovn-operator addon, node still exists on host page [#8845](https://github.com/harvester/harvester/issues/8845)
- [BUG] Unexpected resource listing backlinks [#8842](https://github.com/harvester/harvester/issues/8842)
- [BUG] Can't add volume, delete and backup vm when vm enabled cpu pinning while cpu manager is `disabled` [#8778](https://github.com/harvester/harvester/issues/8778)
- [BUG] The `Take Backup` action menu on VMs should be disabled if no backup target is configured [#8740](https://github.com/harvester/harvester/issues/8740)
- [BUG] ip count on subnet not managed correctly when VMs are stopped and deleted [#8693](https://github.com/harvester/harvester/issues/8693)
- [BUG] webhook does not throw error when subnet cidr do not overlap with vpc cidr in static route configuration [#8692](https://github.com/harvester/harvester/issues/8692)
- [BUG] VM menu item prompt upward display truncated, can't click on some vm operation button [#8536](https://github.com/harvester/harvester/issues/8536)
- [BUG] Race Condition When Applying VM Import Manifests [#8463](https://github.com/harvester/harvester/issues/8463)
- [BUG] Potential upgrade flow control bug when post-drain job finishes [#8442](https://github.com/harvester/harvester/issues/8442)
- [BUG] [Terraform provider] Non-empty execution plan after image resource is created [#8398](https://github.com/harvester/harvester/issues/8398)
- [BUG] Supportbundle sometimes doesn't contain node supportconfig [#8332](https://github.com/harvester/harvester/issues/8332)
- [BUG] upgrade stuck in Pre-draining which VM not migrating to other nodes [#8298](https://github.com/harvester/harvester/issues/8298)
- [BUG] WebVNC console shortcut keys not working correctly [#8197](https://github.com/harvester/harvester/issues/8197)
- [BUG] Load Balancer can not be reached after upgrade Rancher from `v2.10.3` to `v2.11.0` [#8072](https://github.com/harvester/harvester/issues/8072)
- [BUG] miimon value not set to default(100ms) when user configures -1 from UI [#8015](https://github.com/harvester/harvester/issues/8015)
- [BUG] Can create volume without name via UI [#8010](https://github.com/harvester/harvester/issues/8010)
- [BUG] infinite image download loop using LVM storage driver [#7993](https://github.com/harvester/harvester/issues/7993)
- [BUG] Upgrade Stuck in Pre-Draing if a Running Volume transit to Detached [#7902](https://github.com/harvester/harvester/issues/7902)
- [BUG] Installer panic when host has no accessible disk [#7863](https://github.com/harvester/harvester/issues/7863)
- [BUG] Harvester upgrade controller may jump cleanup when it is waiting for `getImagesDiffList` and user clicks `dismiss` [#7821](https://github.com/harvester/harvester/issues/7821)
- [BUG] user-data & network-data in Rancher v2.11-head w/ Harvester v1.5-head when selected renders strangely [#7778](https://github.com/harvester/harvester/issues/7778)
- [BUG] Attaching volumes >= 1TiB fails [#7719](https://github.com/harvester/harvester/issues/7719)
- [BUG] pcidevices controller should process deletion of pcideviceclaim when device no longer exists [#7564](https://github.com/harvester/harvester/issues/7564)
- [BUG] pcidevices controller does not clean pcidevices for a deleted node [#7400](https://github.com/harvester/harvester/issues/7400)
- [BUG] Harvester extensions in rancher charts should have harvester icons in the catalog [#7389](https://github.com/harvester/harvester/issues/7389)
- [BUG] VM Snapshot and Backup List Views Fail to Load After Creation [#7295](https://github.com/harvester/harvester/issues/7295)
- [BUG] AirGapped Harvester UI Extension Keeps Mentioning Repository is missing but it's not [#7215](https://github.com/harvester/harvester/issues/7215)
- [BUG] pcidevices controller OOM [#7163](https://github.com/harvester/harvester/issues/7163)
- [BUG] Bundled HelmCharts in Errored State [#7087](https://github.com/harvester/harvester/issues/7087)
- [BUG] IP address of VM not displayed in UI When ipv6 address is present on Pod Interface of VM [#6955](https://github.com/harvester/harvester/issues/6955)
- [BUG] Longhorn V2 volumes restored from snapshots get stuck in Not Ready state [#6710](https://github.com/harvester/harvester/issues/6710)
- [BUG] when you restore a backup and replace existing it doesn't remove previous volumes [#6696](https://github.com/harvester/harvester/issues/6696)
- [BUG] Those after-upgrade actions may conflict with a new upgrade [#6670](https://github.com/harvester/harvester/issues/6670)
- [BUG] Abort the import ultimatively if the source could not be found [#6513](https://github.com/harvester/harvester/issues/6513)
- [BUG] Node info is NOT clear if VM was stopped via CMD [#6506](https://github.com/harvester/harvester/issues/6506)
- [BUG] After RKE2 upgrade, Load Balancer IP Pools doesn't work [#6218](https://github.com/harvester/harvester/issues/6218)
- [BUG] namespace unavailable for logging secret config [#6107](https://github.com/harvester/harvester/issues/6107)
- [BUG] kube-vip requires additional RBAC [#5670](https://github.com/harvester/harvester/issues/5670)
- [BUG] mgmt NIC is inaccessible from host if VM having 2 NICs [#5401](https://github.com/harvester/harvester/issues/5401)
- rancher serviceMonitor from cattle-system namespace shows down under prometheus [#4958](https://github.com/harvester/harvester/issues/4958)
- [BUG] IP Pool Same Namespace Can Be Added Multiple Times [#4421](https://github.com/harvester/harvester/issues/4421)
- [BUG] backuptarget api return 204 not 200 when the backup server is healthy [#9718](https://github.com/harvester/harvester/issues/9718)
- [BUG] The node's information is missing in Support Bundle [#9485](https://github.com/harvester/harvester/issues/9485)
- [BUG] display N/A in vlan-id column for overlay type VM Networks [#8724](https://github.com/harvester/harvester/issues/8724)


## Others


- [TASK] Bump harvester-cloud-provider and harvester-csi-driver in Rancher v2.13 [#9232](https://github.com/harvester/harvester/issues/9232)
- [TASK] Bump Harvester CSI Driver v0.1.25 to Rancher/RKE2 [#9149](https://github.com/harvester/harvester/issues/9149)
- [TASK] Enhance and publish new harvester-cloud-provider chart to Rancher, rke2, k3s [#9020](https://github.com/harvester/harvester/issues/9020)
- [DOC] Add doc on how Fleet works during Harvester operations (installation and upgrade) and include troubleshooting tips [#8485](https://github.com/harvester/harvester/issues/8485)
- [DOC] New behavior when cloning the detached Longhorn volume [#9740](https://github.com/harvester/harvester/issues/9740)
- [DOC] kube-ovn docs do not reflect Experimental [#9709](https://github.com/harvester/harvester/issues/9709)
- [DOC] Explicitly call out experimental feature for all experimental addons [#9379](https://github.com/harvester/harvester/issues/9379)
- [DOC] Improve auto-rotate-rke2-certs and how to fix expired certificates [#9351](https://github.com/harvester/harvester/issues/9351)
- [DOC] Minor updates upon resource quota and VM memory overhead [#9340](https://github.com/harvester/harvester/issues/9340)
- [DOC] Remotely get Status of Harvester and Nodes Deployment and Readiness [#9327](https://github.com/harvester/harvester/issues/9327)
- [DOC] Expand information about filesystem freeze for VM backup [#9241](https://github.com/harvester/harvester/issues/9241)
- [DOC] State Incompatibility with LH Recurring Backup/Snapshot [#9231](https://github.com/harvester/harvester/issues/9231)
- [DOC] Add details of how to handle secondary vlans on mgmt bridge/bond from v1.6.0 [#9221](https://github.com/harvester/harvester/issues/9221)
- [DOC] Update instances of "instance-manager-r and instance-manager-e" pods by "instance-manager" pods [#7446](https://github.com/harvester/harvester/issues/7446)

## Known Issues

### Known Issues - Harvester
- [BUG] After upgrade from v1.6.1 to v1.7.0-rc6, Running VM show message "Restart action is required ..." [#9751](https://github.com/harvester/harvester/issues/9751)
- [BUG] Upgrade stuck indefinitely at the apply-manifest phase due to the pending-upgrade fleet [#9738](https://github.com/harvester/harvester/issues/9738)
- [BUG] Can't completely delete airgapped upgrade image when clicking delete button, prompt error message [#9720](https://github.com/harvester/harvester/issues/9720)
- [BUG] LH v2 Snapshot Stuck in Deletion [#9714](https://github.com/harvester/harvester/issues/9714)
- [BUG] Upgrade that involves fleet release candidate versions is stuck indefinitely at the apply-manifest phase [#9680](https://github.com/harvester/harvester/issues/9680)
- [BUG] Add bridged virtio NIC to VM via Edit Config triggers live migration on single node cluster [#9660](https://github.com/harvester/harvester/issues/9660)
- [BUG] Can not hot-plugging on a VM has management network with bridge-bond and virtio [#9630](https://github.com/harvester/harvester/issues/9630)
- [BUG] Add Network via Edit Config triggers hotplug NIC before user choosing on popup box [#9619](https://github.com/harvester/harvester/issues/9619)
- [BUG] Click View in API of resource always direct to empty page [#9614](https://github.com/harvester/harvester/issues/9614)
- [BUG] Upgrade v1.7.0 stuck in node post-draining [#9597](https://github.com/harvester/harvester/issues/9597)
- [BUG] Clone VM, but the cloned one stuck in starting [#9538](https://github.com/harvester/harvester/issues/9538)
- [BUG] PCI vGPU USB device failed to pass through due to . in the hostDevices.name [#9399](https://github.com/harvester/harvester/issues/9399)
- [BUG] Upgrade from v1.6.x to v1.7.x may result in host IP address change when using DHCP [#9260](https://github.com/harvester/harvester/issues/9260)


### Known Issues - Rancher (External)



## Deprecations and Removals 

### Legacy BIOS Booting

Support for legacy BIOS booting is deprecated in v1.7.0 and will be removed in a later release. Existing Harvester clusters that use this boot mode will continue to function, but upgrading to later versions may require re-installation in UEFI mode. To avoid issues and disruptions, use UEFI in new installations.

## Components

| Component | Version |
| --- | --- |
| CDI | [v1.62.0](https://github.com/kubevirt/containerized-data-importer/releases/tag/v1.62.0) |
| Kube-OVN | [v1.14.10](https://github.com/kubeovn/kube-ovn/releases/tag/v1.14.10) |
| KubeVirt | [v1.6.3](https://github.com/kubevirt/kubevirt/releases/tag/v1.6.3) |
| Longhorn | [v1.10.1](https://github.com/longhorn/longhorn/releases/tag/v1.10.1) |
| Rancher (embedded) | [v2.13.0](https://github.com/rancher/rancher/releases/tag/v2.13.0) |
| RKE2 | [v1.34.2+rke2r1](https://github.com/rancher/rke2/releases/tag/v1.34.2%2Brke2r1) |
| SL Micro | [6.1](https://github.com/harvester/os2/releases/tag/v1.7-20251216) |

# Contributors

Thank you to all the contributors that made this release possible.

@a110605
@albinsun
@asc5543
@asettle
@brandboat
@DamiaSan
@dharmit
@forbesguthrie
@FrankYang0529
@houhoucoop
@ibrokethecloud
@ihcsim
@innobead
@irishgordo
@JavierLagosChanclon
@jbrockmeyer
@jillian-maroket
@lanfon72
@liujiong63
@m-ildefons
@martindekov
@mingshuoqiu
@noahgildersleeve
@rebeccazzzz
@rrajendran17
@starbops
@TachunLin
@torchiaf
@tserong
@Vicente-Cheng
@votdev
@w13915984028
@WebberHuang1118
@wheatdog
@Yu-Jack
@yulken