# Harvester v1.7.0 Release Notes

This release introduces several features, enhancements, and bug fixes that improve system quality and the overall user experience. The documentation is available at https://docs.harvesterhci.io/v1.7.

The Harvester team appreciates your contributions and looks forward to receiving feedback regarding this release.

## Downloads

### AMD64

#### Full ISO



#### Net Install ISO



### ARM64



## Installation

Harvester can be installed using the [ISO image](https://docs.harvesterhci.io/v1.7/install/index), a [bootable USB drive](https://docs.harvesterhci.io/v1.7/install/usb-install), and [PXE boot](https://docs.harvesterhci.io/v1.7/install/pxe-boot-install/). A [net install ISO image](https://docs.harvesterhci.io/v1.7/install/net-install), which contains only the core OS components, is also now available. For more information, see the [Installation](https://docs.harvesterhci.io/v1.7/install/requirements) section of the documentation.

> [!IMPORTANT]
> The Harvester installer checks if the hardware meets the [minimum requirements](https://docs.harvesterhci.io/v1.7/install/requirements/#hardware-requirements) for production use. If any of the checks fail, installation is stopped and warnings are printed to the system console.
> 
> You can disable this behavior during iPXE installation (for testing purposes) by adding the kernel parameter `harvester.install.skipchecks=true` when you boot the system. For more information, see [Useful Kernel Parameters](https://docs.harvesterhci.io/v1.7/install/pxe-boot-install#harvesterinstallskipcheckstrue).

## Upgrades

Harvester only allows upgrades from supported versions. For more information about upgrade paths and procedures, see [Upgrading Harvester](https://docs.harvesterhci.io/v1.7/upgrade/index).

> [!IMPORTANT]
> Harvester v1.7.x transitions from wicked to NetworkManager for network management. If the management interface configuration was modified after installation, manual steps are required before upgrading to prevent errors. For more information, see [Migration from wicked to NetworkManager](DOC-PR-NOT-MERGED-YET).

## Highlights

### Experimental Features

#### Virtual Machine Auto Balance

The **Virtual Machine Auto Balance** add-on allows Harvester to leverage the Kubernetes Descheduler for rebalancing of virtual machine workloads. When enabled on a multi-node cluster, the add-on deploys the Descheduler and a related configuration. The Descheduler evicts pods that are not optimally placed according to administrator-defined policies, enhancing resource utilization and improving cluster performance.

[Documentation]https://docs.harvesterhci.io/v1.7/advanced/addons/virtual-machine-auto-balance | [GitHub issue](https://github.com/harvester/harvester/issues/2311)

### Fully Supported Features

#### MIG-backed vGPU Device Support

Harvester automatically detects GPUs that support Multi-Instance GPU (MIG)-based partitioning. In v1.7.0, virtual machines can share vGPU devices backed by NVIDIA GPUs with this capability (such as the A100, H100, and H200). To leverage this feature, you must define the MIG profiles for your GPU, enable the MIG configuration, and enable the vGPU device associated with the MIG configuration.

[Documentation](https://docs.harvesterhci.io/v1.7/advanced/vgpusupport#mig-backed-vgpu-devices) | [GitHub issue](https://github.com/harvester/harvester/issues/8652)

#### Multipath Device Recognition and Management

Starting with v1.7.0, Harvester supports external storage devices that use multipath I/O (MPIO) to provide redundant data paths while preventing device identification conflicts. Through the `os.externalStorageConfig` setting, you can define the precise configuration (including device blacklisting and whitelisting) that the multipath daemon uses to manage devices and ensure storage stability.

[Documentation](https://docs.harvesterhci.io/v1.7/install/harvester-configuration#osexternalstorageconfig) | [GitHub issue](https://github.com/harvester/harvester/issues/6975)

#### NIC Hotplugging and Hotunplugging

Harvester v1.7.0 allows you to add and remove network interface controllers (NICs) from running live-migratable virtual machines without downtime. When you hotplug a NIC, Harvester migrates the virtual machine and connects the specified interface through bridge binding. Virtual machines that were created using the Harvester Node Driver and the Harvester Terraform Provider _do not support_ this feature.

[Demo](https://youtu.be/x3QA_Bj8lJc) | [Documentation](https://docs.harvesterhci.io/v1.7/vm/nic-hotplug) | [GitHub issue](https://github.com/harvester/harvester/issues/7042)

#### Open Virtual Format (OVF) Support

In Harvester v1.7.0, you can use the **VM Import Controller** add-on to import virtual machines using Open Virtual Appliance (OVA) files, which are a single-file version of OVF packages. Harvester supports downloading these OVA files via both HTTP and HTTPS. For endpoints that use HTTPS, you can configure a secret that includes basic authentication credentials for the URL and a CA certificate.

[Documentation](https://docs.harvesterhci.io/v1.7/advanced/addons/vmimport) | [GitHub issue](https://github.com/harvester/harvester/issues/4742)

#### Pausable Node Upgrades

Harvester v1.7.0 introduces a new option to the `upgrade-config` setting that enables pausing of automatic node upgrades for all or specific cluster nodes. This capability is essential for scenarios requiring manual maintenance or verification on the nodes before the upgrade continues. Once these tasks are completed, you must then explicitly instruct Harvester to resume the upgrade process on the target nodes.

[Documentation](https://docs.harvesterhci.io/v1.7/upgrade/index#pausing-node-upgrades) | [GitHub issue](https://github.com/harvester/harvester/issues/8980)

#### Transparent Hugepages Configuration

Hugepages allow the Linux kernel to allocate memory in chunks larger than the default size. In Harvester v1.7.0, you can configure transparent hugepage settings for each node to increase the overall system performance. Additionally, you can monitor memory allocation for both anonymous (transparent) and persistent (static) hugepages on the Harvester UI.

[Documentation](TBD) | [GitHub issue](https://github.com/harvester/harvester/issues/5006)

#### Virtual Machine VLAN Trunking

Harvester v1.7.0 allows you to create VLAN trunk networks with multiple, overlapping VLAN ID ranges. When a virtual machine is attached to a VLAN trunk network, the guest operating system and applications are allowed to send and receive packets tagged with any of the VLAN IDs within the specified range.

[Demo(https://youtu.be/3Gn095RxE-M) | [Documentation](https://docs.harvesterhci.io/v1.7/networking/harvester-network/#vlan-trunk-network) | [GitHub issue](https://github.com/harvester/harvester/issues/766)

#### Volume Snapshots in Guest Clusters

v0.1.25 of the Harvester CSI Driver supports volume snapshots, providing point-in-time backup and restoration for guest cluster workloads. You can create, list, and delete snapshots of persistent volumes, and create new volumes from existing snapshots. To use this feature, you must ensure that the CSI snapshot controller and the required manifests are deployed on the guest cluster.

[Demo](https://youtu.be/VLY-YCIgHsE) | [Documentation](https://docs.harvesterhci.io/v1.7/rancher/csi-driver#volume-snapshots) | [GitHub issue](https://github.com/harvester/harvester/issues/3778)

## Features



## Enhancements



## Bug Fixes



## Others



## Known Issues

### Known Issues - Harvester



### Known Issues - Rancher (External)



## Deprecations and Removals 

### Legacy BIOS Booting

Support for legacy BIOS booting is deprecated in v1.7.0 and will be removed in a later release. Existing Harvester clusters that use this boot mode will continue to function, but upgrading to later versions may require re-installation in UEFI mode. To avoid issues and disruptions, use UEFI in new installations.

## Components

| Component | Version |
| --- | --- |
| CDI | [v1.62.0](PENDING) |
| KubeVirt | [v1.6](PENDING) |
| Longhorn | [v1.10](PENDING) |
| Rancher (embedded) | [v2.13](PENDING) |
| RKE2 | [v1.34](PENDING) |
| SLE Micro | [6.1](PENDING) |

# New Contributors

A big welcome and thank you to the following first-time contributors for Harvester:

TBD

# Contributors

Thank you to all the contributors who made this release possible.

TBD